<div class="col-md-8 col-md-offset-2 topSpace">
  <div class="card" *ngFor="let productDetails of product | async">
    <div class="row">
      <div class="col-md-4 inner-card">
        <img class="img-producto" src={{image}} class="img-responsive ">
        <br>
        <div class="buttonselect">
          <input type="file" accept="image/*" (change)="handleFileSelect($event)" class="btn btn-primary btn-color" text="Seleccionar Imagen">
        </div>
      </div>
      <div class="col-md-7  header">
        <div class="form-group">
          <label>Nombre</label>
          <input type="text" class="form-control" placeholder="Nombre" [(ngModel)]="name" name="name" value="">
        </div>
        <div class="form-group">
          <label>Descripción</label>
          <input type="text" class="form-control" placeholder="Descripción" [(ngModel)]="description" name="description" value="">
        </div>
        <div class="form-group">
          <label>Precio</label>
          <input type="number" class="form-control" placeholder="Precio" [(ngModel)]="price" name="price" value="">
        </div>
        <div class="form-group">
          <label>Costo total de Ingredientes</label>
          <input type="number" class="form-control" disabled placeholder="Costo de Ingredientes" [(ngModel)]="category" name="category"
            value="">
        </div>
        <div class="form-group">
          <label>Puntos</label>
          <input type="number" class="form-control" placeholder="Puntos" disabled [(ngModel)]="points" name="points" value="">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="card card-plain col-md-11">
        <div class="header">
          <h3 class="title">Receta de {{productDetails.name}}</h3>
          <h4 class="title">Ingredientes:</h4>
        </div>
        <div class="row card">
          <div class="col-md-4 col-md-offset-1">
            <select [(ngModel)]="selectedIngredient" name="selectedIngredient">
              <option value="" disabled selected>Seleccionar</option>
              <option *ngFor="let ingredient of ingredients" [ngValue]="ingredient">{{ingredient}}</option>
            </select>
          </div>
          <div class="col-md-4">
            <input type="number" class="form-control" name="quantity" [(ngModel)]="quantity" placeholder="Cantidad">
          </div>
          <div class="col-md-2 col">
            <i class="fa fa-plus" aria-hidden="true" style="color:green; margin-top:20%;" (click)="addIngredient(selectedIngredient)"></i>
          </div>
        </div>
        <div class="content table-responsive table-full-width ">
          <table class="table table-hover">
            <thead>
              <th>Nombre</th>
              <th>Cantidad</th>
              <th></th>
            </thead>
            <tbody>
              <tr *ngFor="let rec of recipe | async">
                <td>{{rec.name}}</td>
                <td>{{rec.quantity}}</td>
                <td>
                  <i class="fa fa-pencil" aria-hidden="true" style="color:#810d43;" (click)=modifyIngredientElement(rec,rec.$key)></i> &emsp;
                  <i class="fa fa-trash" style="color:red;" aria-hidden="true" (click)=deleteIngredientElement(rec,rec.$key)></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row">
        <div class="col-md-3 ">
            <button type="submit" class="btn btn-info btn-fill pull-right" (click)="revertChanges()" style="width: 100%;">Cancelar</button>
          </div>
      <div class="col-md-3 col-md-offset-2">
        <button type="submit" class="btn btn-info btn-fill pull-right" (click)="deleteProduct()" style="width: 100%;">Eliminar Producto</button>
      </div>
      <div class="col-md-4">
        <button type="submit" class="btn btn-info btn-fill pull-right" (click)="saveProduct(productDetails,productDetails.$key)"
          style="width: 100%;">Guardar Cambios</button>
      </div>
    </div>
  </div>
</div>
